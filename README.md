# FlatScraper
Telegram bot for scraping apartments from [nepremicnine.org](www.nepremicnine.org). The comunication with the bot is performed through the chat aplication [Telegram](https://telegram.org/). Once you run the code the bot will start responding on the chat aplication. 

## Prerequisites
1. Telegram account
2. [Rust](https://www.rust-lang.org/) needs to be installed on the computer running the bot

## Setup
1. To setup the bot, first talk to @BotFather in telegram and create a new bot. You will recieve a bot token.
2. clone this repositoy via `git clone https://github.com/VakeDomen/FlatScraper.git`
3. rename the `.env.sample` file to `.env`
4. paste your bot token into the `.env` file: `TELOXIDE_TOKEN=<bot token>`
5. build the bot using `cargo build --release`

## Running the bot
In the folder `target/release` that was generated by building the bot in the previous section there should be a binary file called `flat_scraper`.
Run the binary with `./flat_scraper`.

The bot should now respond in the chat.

## Usage
You can subscribe to the bot to send you notifications when sales come in. To subscribe to specific filter, go to the [nepremicnine.org](www.nepremicnine.org) and fill out your custom filter of what you are looking for and press search. Once you see the sales on the page, copy the `url` of the page and tell the bot to keep an eye on the page.
You do that by writing to the bot in chat:
```
/subscribe <url>
```
The bot will now keep you posted. Note that you can be subscribed to multiple urls at the same time.

To check the running subscriptions, you can tell the bot to list all current subscriptions by writing:
```
/list
```

If you want to unsubscribe from the link you can do so by writing the unsubscibe command as such:
```
/unsubscribe <url>
```

